(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(t,e,c){},32:function(t,e,c){},38:function(t,e,c){},39:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return k}));var n=c(16),s=c(17),a=c(22),i=c(21),o=c(1),l=c(18),r=c.n(l),j=c(0),u=c(9),b=c(2),d=c(7),O=(c(28),function(){var t=Object(j.useState)(""),e=Object(d.a)(t,2),c=e[0],n=e[1],s=Object(j.useRef)(null);return Object(o.jsxs)("div",{className:"Lobby",children:[Object(o.jsx)("h1",{children:"Button Game"}),Object(o.jsx)("p",{className:"header",children:"2020 - Koodarijahti"}),Object(o.jsx)("input",{ref:s,className:"formstyle inputStyle",type:"text",placeholder:"type your gamer name",value:c,onChange:function(t){return n(t.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("a",{href:"/".concat(c),children:Object(o.jsx)("button",{value:"PLAY",type:"submit",className:"LobbyButton",children:"PLAY"})}),Object(o.jsxs)("div",{className:"link",children:[Object(o.jsx)("p",{children:"by Samuel Koskelainen"}),Object(o.jsx)("p",{children:Object(o.jsx)("a",{className:"link",href:"https://github.com/samuelkoskelainen/koodarijahti",children:"github"})})]})]})}),h=c(19),m=(c(32),new h.w3cwebsocket("ws://localhost:8000")),p=function(t){var e=Object(j.useState)(""),c=Object(d.a)(e,2),n=c[0],s=c[1],a=Object(j.useState)(0),i=Object(d.a)(a,2),l=i[0],r=i[1],b=Object(j.useState)(10),O=Object(d.a)(b,2),h=O[0],p=O[1],f=Object(j.useState)(0),x=Object(d.a)(f,2),k=x[0],N=x[1],v=Object(j.useState)(0),y=Object(d.a)(v,2),S=y[0],g=y[1],B=t.match.params.client;Object(j.useEffect)((function(){m.onmessage=function(t){var e=JSON.parse(t.data);if("client-connect"===e.method){if(localStorage.getItem("".concat(B))){var c=localStorage.getItem("".concat(B)),n=JSON.parse(c);s(n.clientId),N(n.clicks),g(n.points)}else{var a={clientId:e.clientId,clicks:e.clicks,points:e.points};localStorage.setItem("".concat(B),JSON.stringify(a)),s(e.clientId),N(e.clicks),g(e.points)}r(e.counter),p(e.clicksToReward)}if("client-buttonClick"===e.method){var i=localStorage.getItem("".concat(B)),o=JSON.parse(i);o.clicks=e.clicks,o.points=e.points,localStorage.setItem("".concat(B),JSON.stringify(o)),N(e.clicks),g(e.points)}"client-all-updateCounter"===e.method&&(r(e.counter),p(e.clicksToReward))};var t={method:"client-connect"};m.onopen=function(){return client.send(JSON.stringify(t))}}),[]);var I=function(){m.send(JSON.stringify({method:"client-all-updateCounter"}))};return Object(j.useEffect)((function(){return I}),[k]),Object(o.jsxs)("div",{className:"ButtonSection",children:[Object(o.jsx)("div",{className:"player",children:Object(o.jsxs)("p",{children:["player: ",B]})}),Object(o.jsx)("div",{className:"info",children:Object(o.jsxs)("p",{children:["clicks to reward: ",h]})}),Object(o.jsxs)("p",{children:["points: ",S]}),Object(o.jsx)("div",{className:"buttons",children:Object(o.jsx)("button",{className:"PlayButton",onClick:k>0?function(){var t={method:"client-buttonClick",clientId:n,clicks:k,points:S,counter:l};m.send(JSON.stringify(t))}:null,children:k})}),Object(o.jsx)(u.b,{to:"/",children:Object(o.jsx)("button",{className:"ContinueButton",children:"Back to lobby"})}),k<=0?Object(o.jsx)("button",{className:"ContinueButton",onClick:function(){return N(20)},children:"continue?"}):null]})},f=(c(38),function(){return Object(o.jsxs)("div",{className:"ErrorLayout",children:[Object(o.jsx)("h1",{children:"404 - Not Found"}),Object(o.jsx)(u.b,{to:"/",children:Object(o.jsx)("button",{className:"ErrorButton",children:"TO LOBBY"})})]})}),x=function(){return Object(o.jsx)(u.a,{children:Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{path:"/",exact:!0,component:O}),Object(o.jsx)(b.a,{path:"/:client",exact:!0,component:p}),Object(o.jsx)(b.a,{component:f})]})})},k=function(t){Object(a.a)(c,t);var e=Object(i.a)(c);function c(){return Object(n.a)(this,c),e.apply(this,arguments)}return Object(s.a)(c,[{key:"render",value:function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(x,{})})}}]),c}(j.Component);r.a.render(Object(o.jsx)(k,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8202bc00.chunk.js.map